import{_ as y,a as c,r as a,o as P,c as C,e as s,w as l,F,b as n,t as d,f as u}from"./index.e563f3ff.js";import{l as v}from"./index.f149c03d.js";const I={name:"TumblrReblogAnime",components:{},data(){return{nameSource:"",urlSource:"",columns:[{key:"id",sortable:!0},{key:"name",sortable:!0},{key:"is_parce",sortable:!0},{key:"updated_at",sortable:!0},{key:"actions",width:50}],items:[],loading:!1,serverParams:{name_source:"",url_source:""},value:0}},methods:{updateParams(t){this.serverParams=Object.assign({},this.serverParams,t)},deleteSource(t){let e=this;this.loading=!0,console.log(e.selectedItemsEmitted),c.get("/sanctum/csrf-cookie").then(m=>{c.post("/api/groups/delete-source",{id_source:t}).then(i=>{i.status?(console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"),this.$vaToast.init({message:"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0443\u0434\u0430\u043B\u0435\u043D",color:"success"}),this.getData(),e.loading=!1):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(i.status),e.loading=!1)})})},createSource(){this.updateParams({name_source:this.nameSource,url_source:this.urlSource,id_group:this.$route.params.id});let t=this;this.loading=!0,c.request({method:"post",url:"/api/groups/add-source",params:this.serverParams,paramsSerializer:e=>v.stringify(e)}).then(e=>{e.status?(console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"),this.$vaToast.init({message:"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D",color:"success"}),t.loading=!1,this.getData()):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(e.status),t.loading=!1)}).catch(e=>{console.log(e),t.loading=!1})},getData(){let t=this;this.loading=!0,c.request({method:"post",url:"/api/groups/get-source",params:this.serverParams,paramsSerializer:e=>v.stringify(e)}).then(e=>{t.items=e.data.source,t.count=e.data.count,t.loading=!1,console.log(this.pages)}).catch(e=>{console.log(e),t.loading=!1})}},created(){this.getData()}},N={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},T={class:"row"},U={class:"col mt-2 ml-2"},w=u("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),B=["href"],D=["href"],E=u("\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),j={colspan:"6"},q={class:"flex justify-center mt-4"},z=u(" Number of filtered items: ");function A(t,e,m,i,r,g){const p=a("VaInput"),_=a("va-button"),f=a("va-card-content"),h=a("va-card"),S=a("va-pagination"),b=a("va-data-table"),V=a("va-chip"),k=a("va-alert");return P(),C(F,null,[s(h,null,{default:l(()=>[s(f,null,{default:l(()=>[n("div",N,[s(p,{modelValue:r.nameSource,"onUpdate:modelValue":e[0]||(e[0]=o=>r.nameSource=o),placeholder:"",label:"Name Source",class:"mr-2"},null,8,["modelValue"]),s(p,{modelValue:r.urlSource,"onUpdate:modelValue":e[1]||(e[1]=o=>r.urlSource=o),placeholder:"",label:"Url Source",class:"mr-2"},null,8,["modelValue"])]),n("div",T,[n("div",U,[s(_,{color:"success",onClick:e[2]||(e[2]=o=>g.createSource())},{default:l(()=>[w]),_:1})])])]),_:1})]),_:1}),s(h,null,{default:l(()=>[s(f,null,{default:l(()=>[s(b,{items:r.items,columns:r.columns,filter:t.filter,"filter-method":t.customFilteringFn,onFiltered:e[4]||(e[4]=o=>t.filteredCount=o.items.length),loading:r.loading,selectable:"","selected-color":"warning",onSelectionChange:e[5]||(e[5]=o=>t.selectedItemsEmitted=o.currentSelectedItems)},{"cell(id)":l(({rowData:o})=>[n("a",{target:"_blank",href:"edit/"+o.id},d(o.id),9,B)]),"cell(name)":l(({rowData:o})=>[n("a",{target:"_blank",href:o.url_source},d(o.name),9,D)]),"cell(actions)":l(({rowData:o})=>[s(_,{color:"danger",onClick:M=>g.deleteSource(o.id)},{default:l(()=>[E]),_:2},1032,["onClick"])]),bodyAppend:l(()=>[n("tr",null,[n("td",j,[n("div",q,[s(S,{modelValue:t.currentPage,"onUpdate:modelValue":e[3]||(e[3]=o=>t.currentPage=o),pages:t.pages},null,8,["modelValue","pages"])])])])]),_:1},8,["items","columns","filter","filter-method","loading"]),s(k,{class:"!mt-6",color:"info",outline:""},{default:l(()=>[z,s(V,null,{default:l(()=>[u(d(t.count),1)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var G=y(I,[["render",A]]);export{G as default};
